import React, { createContext, useEffect, useState } from "react";
import NavBar from "../components/NavBar";
import Simulation from "../components/Simulation";

export const SimContext = createContext();

function Part3() {
  useEffect(() => {
    // Reset box shadow when component unmounts or page changes
    return () => {
      document.body.style.boxShadow = "none";
    };
  }, []);

  function nombreAleatoireEntreUnEtVingtSix() {
    return Math.floor(Math.random() * (27 - 1 + 1)) + 1;
  }

  let nombreAleatoire = nombreAleatoireEntreUnEtVingtSix();

  const hobbiesList = [
    "Patinage ‚õ∏Ô∏è",
    "Dessin ‚úèÔ∏è",
    "Photographie üì∏",
    "Cuisine üçΩÔ∏è",
    "Voyagesüß≥",
    "Musique üé∏",
    "Lecture üìñ",
    "Sport ‚öΩ",
    "Jardinage ü™¥",
    "Danse üíÉ",
    "Th√©√¢tre üé¨",
    "Artisanat üéÜ",
    "Natation ü•Ω",
    "Informatique üíª",
    "√âcriture üìù",
    "Jeux vid√©o üñ•Ô∏è",
    "Mode üß•",
    "Shopping üß£",
    "Randonn√©e ü•æ",
    "Yoga üßò‚Äç‚ôÄÔ∏è, peinture üé®",
  ];

  function getRandomHobby() {
    const randomIndex = Math.floor(Math.random() * hobbiesList.length);
    return hobbiesList[randomIndex];
  }

  getRandomHobby();

  const beautyMapping = {
    "woman3.jpg": "belle",
    "woman4.jpg": "belle",
    "woman5.jpg": "belle",
    "woman6.jpg": "belle",
    "woman7.jpg": "belle",
    "woman8.jpg": "belle",
    "woman9.jpg": "moche",
    "woman10.jpg": "belle",
    "woman11.jpg": "belle",
    "woman12.jpg": "moche",
    "woman13.jpg": "belle",
    "woman14.jpg": "belle",
    "woman15.jpg": "moche",
    "woman16.jpg": "moche",
    "woman17.jpg": "belle",
    "woman18.jpg": "belle",
    "woman19.jpg": "moche",
    "woman20.jpg": "moche",
    "woman21.jpg": "moche",
    "woman22.jpg": "moche",
    "woman23.jpg": "belle",
    "woman24.jpg": "moche",
    "woman25.jpg": "moche",
    "woman26.jpg": "moche",
    "woman27.jpg": "belle",
  };

  const randomImageName = () => `woman${nombreAleatoire}.jpg`;

  const db2 = [

    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
        "Hobbys : Yoga, lecture",
      R√©ponse: "Faux",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
     
      Video: false,
      Imagerep: true,
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
      "Hobbys : Cin√©ma, photographie",
      R√©ponse: "Faux",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      
      Video: false,
      Imagerep: true,
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
        "Hobbys : Danse, sculpture",
      R√©ponse: "Vrai",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      
      Video: false,
      Imagerep: true,
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
        "Hobbys : P√™che, √©criture",
      R√©ponse: "Vrai",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      
      Video: false,
      Imagerep: true,
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
        "Hobbys : Ski, musique",
      R√©ponse: "Vrai",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      
      Video: true,
      Imagerep: false,
    },
  
  
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
        "Hobbys : Jardinage, cuisine",
      R√©ponse: "Vrai",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      
      Video: false,
      Imagerep: true,
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
      "Hobbys : Randonn√©e, peinture",
      R√©ponse: "Vrai",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      
      Video: false,
      Imagerep: true,
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
        "Hobbys : Yoga, lecture",
      R√©ponse: "Faux",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
     
      Video: false,
      Imagerep: true,
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
      "Hobbys : Cin√©ma, photographie",
      R√©ponse: "Faux",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      
      Video: false,
      Imagerep: true,
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
        "Hobbys : Danse, sculpture",
      R√©ponse: "Vrai",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      
      Video: false,
      Imagerep: true,
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
        "Hobbys : P√™che, √©criture",
      R√©ponse: "Vrai",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      
      Video: false,
      Imagerep: true,
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
        "Hobbys : Ski, musique",
      R√©ponse: "Vrai",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      
      Video: true,
      Imagerep: false,
    },
  
  
  
  
  
  
  
  
  
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
        "Hobbys : Jardinage, cuisine",
      R√©ponse: "Vrai",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      
      Video: false,
      Imagerep: true,
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
      "Hobbys : Randonn√©e, peinture",
      R√©ponse: "Vrai",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      
      Video: false,
      Imagerep: true,
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
        "Hobbys : Yoga, lecture",
      R√©ponse: "Faux",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
     
      Video: false,
      Imagerep: true,
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
      "Hobbys : Cin√©ma, photographie",
      R√©ponse: "Faux",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      
      Video: false,
      Imagerep: true,
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
        "Hobbys : Danse, sculpture",
      R√©ponse: "Vrai",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      
      Video: false,
      Imagerep: true,
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
        "Hobbys : P√™che, √©criture",
      R√©ponse: "Vrai",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      
      Video: false,
      Imagerep: true,
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©:
        "Hobbys : Ski, musique",
      R√©ponse: "Vrai",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      
      Video: true,
      Imagerep: false,
    },


    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©: "Hobbys : Jardinage ü™¥ , cuisine üçΩÔ∏è",
      R√©ponse: "Vrai",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      Video: false,
      Imagerep: true,
      Biographie:
        "Cuisini√®re cherche partenaire pour partager de d√©licieuses recettes ?",
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©: "Hobbys : Randonn√©e ü•æ, peinture üé®",
      R√©ponse: "Vrai",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      Video: false,
      Imagerep: true,
      Biographie:
        "Hello, une aventuri√®re passionn√©e de randonn√©e. Pr√™t √† explorer les sentiers de la vie avec moi ?",
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©: "Hobbys : Yoga üßò‚Äç‚ôÄÔ∏è, lecture üìñ",
      R√©ponse: "Faux",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      Video: false,
      Imagerep: true,
      Biographie:
        "Coucou, originaire de Dijon ! Qui veut faire un tour virtuel dans ma ville natale ?",
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©: "Hobbys : Cin√©ma üé¨, photographie üì∏",
      R√©ponse: "Faux",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      Video: false,
      Imagerep: true,
      Biographie:
        "Je fais quoi ici? Quelqu'un peut me sortir d'ici? S'il vous plait ? ...ü§î",
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©: "Hobbys : Danse üíÉ, sculpture üóø",
      R√©ponse: "Vrai",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      Video: false,
      Imagerep: true,
      Biographie:
        "Qui aurait cru que je viendrais un jour ici ? A la d√©couverte de l'inattendu !",
    },
    {
      Prenom: "Julie",
      Age: "26",
      Intitul√©: "Hobbys : P√™che üêü, √©criture üìù",
      R√©ponse: "Vrai",
      Image: "./img/Part3img/woman" + nombreAleatoire + ".jpg",
      Video: false,
      Imagerep: true,
      Biographie:
        "Amoureuse de la p√™che, passionn√©e d'√©criture, et gourmande de chocolats.",
    },
    {
      Prenom: "Julie, ",
      Age: "26",
      Intitul√©: "Hobbys : Ski ‚õ∑Ô∏è, musique üé∏",
      R√©ponse: "Vrai",
      Image: "./videos/Swipe.mp4",
      Video: true,
      Imagerep: false,
      Biographie:
        "Je cherche quelqu‚Äôun avec qui partager un compte Netflix et une cinquantaine de McNuggets.",
    },
  ];

  const prenomsList = [
    "Sophie",
    "Emma",
    "Charlotte",
    "Alice",
    "L√©a",
    "Manon",
    "Camille",
    "Sarah",
    "Lucie",
    "Zo√©",
    "Chlo√©",
    "Eva",
    "In√®s",
    "Lola",
    "Anna",
    "Clara",
    "Lina",
    "Mia",
    "Louise",
    "L√©na",
    "Jade",
    "Lilou",
    "Ambre",
    "Julia",
    "Romane",
    "Elsa",
    "Oc√©ane",
    "Ma√´lys",
    "El√©na",
    "M√©lanie",
    "Agathe",
    "Alicia",
    "Ma√´lle",
    "Amandine",
    "Mathilde",
    "No√©mie",
    "Elise",
    "Lauren",
    "Margot",
    "Louna",
    "Elo√Øse",
    "Romy",
    "Lily",
    "Nina",
    "Victoria",
    "M√©lissa",
    "Laura",
    "Sofia",
  ];

  const relationList = [
    "Relation s√©rieuse",
    "H√©sitant",
    "Relation courte",
    "Coup d'un soir",
  ];

  const getRandomPrenom = () =>
    prenomsList[Math.floor(Math.random() * prenomsList.length)];
  const getRandomAge = () => Math.floor(Math.random() * 16) + 20;

  const db2Randomized = db2.map((entry) => {
    const imageName = entry.Video
      ? randomImageName()
      : entry.Image.split("/").pop();
    const beautyValue = beautyMapping[imageName] || "belle";

    console.log(`BeautyMapping for image ${imageName}: ${beautyValue}`);

    return {
      ...entry,
      Relation: relationList[Math.floor(Math.random() * relationList.length)],
      Prenom: getRandomPrenom(),
      Age: getRandomAge(),
      Beaute: beautyValue,
    };
  });

  const [currentCardIndex2, setCurrentCardIndex2] = useState(0);

  return (
    <div>
      <NavBar />
      <SimContext.Provider
        value={{ db2: db2Randomized, currentCardIndex2, setCurrentCardIndex2 }}>
        <div className="flex items-center justify-center max-lg:flex-col">
          <Simulation />
        </div>
      </SimContext.Provider>
    </div>
  );
}

export default Part3;
